import React, { useState } from 'react';
import CheckCircleOutlinedIcon from '@mui/icons-material/CheckCircleOutlined';
import DoDisturbAltIcon from '@mui/icons-material/DoDisturbAlt';

function StatusToggle({ camera }) {
  const [status, setStatus] = useState(camera.status);

  const toggleStatus = async () => {
    const newStatus = status === 'Active' ? 'Inactive' : 'Active';
    const response = await fetch('https://api-app-staging.wobot.ai/app/v1/update/camera/status', {
      method: 'POST',
      headers: {
        // 'Content-Type': 'application/json',
        Authorization: 'Bearer 4ApVMIn5sTxeW7GQ5VWeWiy',
      },
      body: JSON.stringify({ id: camera.id, status: newStatus }),
    });
    if (response.ok) {
      setStatus(newStatus);
    }
  };
  const btn = {
    border: "0px",
    cursor: "pointer",
  }

  // return <button onClick={toggleStatus}>{status}</button>;
  return <button style={btn} onClick={toggleStatus}>{camera.status === "Active" ? <DoDisturbAltIcon fontSize="small"  color="action" />:<CheckCircleOutlinedIcon fontSize="small"  color="action"/>}</button>
}

export default StatusToggle;
